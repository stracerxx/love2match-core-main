{
  "name": "Event",
  "type": "object",
  "properties": {
    "creator_email": {"type": "string", "description": "Email of event creator"},
    "title": {"type": "string", "description": "Event title"},
    "description": {"type": "string", "description": "Event description"},
    "event_type": {"type": "string", "enum": ["public", "plus-only", "business"], "default": "public", "description": "Event access type"},
    "category": {"type": "string", "enum": ["social", "party", "networking", "sports", "dining", "entertainment", "other"], "description": "Event category"},
    "location_name": {"type": "string", "description": "Venue or location name"},
    "address": {"type": "string", "description": "Full address"},
    "city": {"type": "string", "description": "City"},
    "latitude": {"type": "number", "description": "Location latitude"},
    "longitude": {"type": "number", "description": "Location longitude"},
    "event_date": {"type": "string", "format": "date-time", "description": "Event start date and time"},
    "end_date": {"type": "string", "format": "date-time", "description": "Event end date and time"},
    "image_url": {"type": "string", "description": "Event cover image"},
    "max_attendees": {"type": "number", "description": "Maximum number of attendees"},
    "current_attendees": {"type": "number", "default": 0, "description": "Current number of attendees"},
    "entry_cost": {"type": "number", "default": 0, "description": "LOVE tokens to attend"},
    "is_active": {"type": "boolean", "default": true, "description": "Event active status"}
  },
  "required": ["creator_email", "title", "event_date", "city"],
  "rls": {
    "create": {"created_by": "{{user.email}}"},
    "read": {},
    "update": {"creator_email": "{{user.email}}"},
    "delete": {"$or": [{"creator_email": "{{user.email}}"}, {"user_condition": {"role": "admin"}}]}
  }
}